<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–∫–ª–∞–¥ ‚Äî —É—á—ë—Ç (—à—Ç)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; }
    .container { max-width:700px; margin:30px auto; background:#fff; padding:20px; border-radius:10px; }
    h2, h3 { text-align:center; margin-top:0; }
    .item { display:flex; justify-content:space-between; align-items:center; margin:6px 0; }
    .item span { max-width:70%; }
    input { width:90px; padding:6px; text-align:center; }
    button { width:100%; padding:14px; margin-top:15px; background:#0a7cff; color:#fff; border:none; cursor:pointer; border-radius:6px; }
    .total { margin-top:10px; font-weight:bold; text-align:right; }
    hr { margin:25px 0; }
  </style>
</head>
<body>

<div class="container">
  <h2>–°–∫–ª–∞–¥ ‚Äî —É—á—ë—Ç –ø—Ä–æ–¥—É–∫—Ü–∏–∏ (—à—Ç)</h2>
  <div id="products"></div>
  <div class="total">–ò—Ç–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ü–∏—è, —à—Ç: <span id="totalProducts">0</span></div>

  <hr>

  <h3>–£—á—ë—Ç –∫–∞—Ä—Ç–æ–Ω–Ω–æ–π —Ç–∞—Ä—ã (—à—Ç)</h3>
  <div id="tara"></div>
  <div class="total">–ò—Ç–æ–≥–æ —Ç–∞—Ä–∞, —à—Ç: <span id="totalTara">0</span></div>

  <button onclick="send()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  <p id="status"></p>
</div>

<script>
// üî¥ –í–°–¢–ê–í–¨ –°–í–û–ô GOOGLE WEB APP URL
const URL = "–í–°–¢–ê–í–¨_URL_WEB_APP";

/* ===== –ü–†–û–î–£–ö–¶–ò–Ø ===== */
const products = [
  '–°—ç–Ω–¥–≤–∏—á "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π"',
  '–°—ç–Ω–¥–≤–∏—á "–° –∫—É—Ä–∏—Ü–µ–π"',
  '–°—ç–Ω–¥–≤–∏—á "–°—ã—Ä–Ω—ã–π –°–æ—É—Å"',
  '–°—ç–Ω–¥–≤–∏—á "PICNIC"',
  '–°—ç–Ω–¥–≤–∏—á "KEBAB"',
  '–•–æ—Ç-–î–æ–≥',
  '–ì–∞–º–±—É—Ä–≥–µ—Ä —Å –∫–æ—Ç–ª–µ—Ç–æ–π',
  '–°—ç–Ω–¥–≤–∏—á "STRIPS" —Å —Å—ã—Ä–Ω—ã–º —Å–æ—É—Å–æ–º',
  '–°—ç–Ω–¥–≤–∏—á "–ú–µ—Ö–∏–∫–æ"',
  '–ü–∏—Ü—Ü–∞ "PEPPERONI"',
  '–ü–∏—Ü—Ü–∞ "CHICKEN"',
  '–ü–∏—Ü—Ü–∞ "SPICY"',
  '–ö—Ä—ã–ª—ã—à–∫–∏',
  'Burrito —Å—Ç—Ä–∏–ø—Å—ã',
  '–ë—É–ª–æ—á–∫–∞ –Ø—Ä–æ—Å–ª–∞–≤–∫–∞',
  '–ë–∞–≥–µ—Ç –ø—à–µ–Ω–∏—á–Ω—ã–π',
  '–†–æ–ª–ª',
  '–õ–∞–≤–∞—à',
  '–¢–æ—Å—Ç–æ–≤—ã–π —Ö–ª–µ–±',
  '–ë–∞—Ç–æ–Ω –Ω–∞—Ä–µ–∑–Ω–æ–π',
  '–ë–∞—Ç–æ–Ω –∫ —á–∞—é',
  '–ë–∞—Ç–æ–Ω –æ—Ç—Ä—É–±–Ω–æ–π',
  '–ë–∞—Ç–æ–Ω "–û—Å–æ–±—ã–π"',
  '–ë—É–ª–æ—á–∫–∏ –¥–ª—è —Ñ—É–¥–∞ –ë–£–†–ì–ï–†',
  '–ë—É–ª–æ—á–∫–∏ –¥–ª—è —Ñ—É–¥–∞ –•–æ—Ç-–î–æ–≥'
];

/* ===== –ö–ê–†–¢–û–ù–ù–ê–Ø –¢–ê–†–ê ===== */
const taraItems = [
  '–ö–æ—Ä–æ–±–∫–∞',
];

/* –†–ï–ù–î–ï–† */
const pDiv = document.getElementById('products');
products.forEach((n,i)=>{
  pDiv.innerHTML += `
    <div class="item">
      <span>${n}</span>
      <input type="number" min="0" value="0" id="p${i}" oninput="calc()">
    </div>`;
});

const tDiv = document.getElementById('tara');
taraItems.forEach((n,i)=>{
  tDiv.innerHTML += `
    <div class="item">
      <span>${n}</span>
      <input type="number" min="0" value="0" id="t${i}" oninput="calc()">
    </div>`;
});

/* –ü–û–î–°–ß–Å–¢ */
function calc(){
  let pSum = 0, tSum = 0;
  products.forEach((_,i)=> pSum += Number(document.getElementById('p'+i).value||0));
  taraItems.forEach((_,i)=> tSum += Number(document.getElementById('t'+i).value||0));
  totalProducts.innerText = pSum;
  totalTara.innerText = tSum;
}

/* –û–¢–ü–†–ê–í–ö–ê */
function send(){
  const productRows = products.map((n,i)=>({
    type: 'product',
    name: n,
    qty: Number(document.getElementById('p'+i).value||0)
  })).filter(r=>r.qty>0);

  const taraRows = taraItems.map((n,i)=>({
    type: 'tara',
    name: n,
    qty: Number(document.getElementById('t'+i).value||0)
  })).filter(r=>r.qty>0);

  fetch(URL,{
    method:'POST',
    body: JSON.stringify({
      products: productRows,
      tara: taraRows
    })
  }).then(()=>status.innerText='–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã ‚úî');
}
</script>
</body>
</html>